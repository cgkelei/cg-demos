<Pipeline name="KlayGE Deferred Lighting">	<Setup>		<FrameBuffer name="GBuffer" scale="1.0">			<Target attach="Depth" format="Depth32"/>			<Target attach="Color0" format="A8B8G8R8"/>			<Target attach="Color1" format="A8B8G8R8"/>		</FrameBuffer>		<!--				<FrameBuffer name="AOBuffer" width="1.0" height="1.0">			<Target attach="Color0" format="A16B16G16R16F"/>		</FrameBuffer>	-->		<FrameBuffer name="LightAccumulateBuffer" scale="1.0">			<Target attach="Depth" format="Depth24Stencil8"/>			<Target attach="Color0" format="A32B32G32R32F"/>		</FrameBuffer>		<FrameBuffer name="LitBuffer" scale="1.0">			<Target attach="Color0" format="A32B32G32R32F"/>		</FrameBuffer>	</Setup>		<CommandQueue>					<Stage name="GBuffer">			<SwitchFrameBuffer name="GBuffer"/>			<ClearTarget attach="Depth" depth="1.0"/>			<ClearTarget attach="Color0" r="0.0" g="0.0" b="0.0" a="0.0"/>			<ClearTarget attach="Color1" r="0.0" g="0.0" b="0.0" a="0.0"/>							<DrawGeometry technique="GBuffer"/>			</Stage>						<!--		<Stage name="SSAO">			<SwitchFrameBuffer name="AOBuffer"/>			<Clear attach="Color0" r="0.0" g="0.0" b="0.0" a="0.0"/>					<DrawQuad material="ssao.material.xml" technique="AOTech">				<BindBuffer name="DepthBuffer" source="GBuffer" attach="Depth"/>			</DrawQuad>		</Stage>		-->				<Stage name="Lighting">			<SwitchFrameBuffer name="LightAccumulateBuffer"/>			<ClearTarget attach="Depth" depth="1.0" stencil="0"/>			<ClearTarget attach="Color0" r="0.0" g="0.0" b="0.0" a="0.0"/>					<DrawQuad material="Lighting.material.xml" technique="CopyDepth">				<BindBuffer name="DepthBuffer" source="GBuffer" attach="Depth"/>			</DrawQuad>			<DrawLightShape material="Lighting.material.xml" technique="Lighting">				<BindBuffer name="GBuffer0" source="GBuffer" attach="Color0"/>				<BindBuffer name="DepthBuffer" source="GBuffer" attach="Depth"/>			</DrawLightShape>					</Stage>				<Stage name="Shading">			<SwitchFrameBuffer name="Screen"/>							<DrawQuad material="Lighting.material.xml" technique="CopyDepth">				<BindBuffer name="DepthBuffer" source="GBuffer" attach="Depth"/>			</DrawQuad>						<DrawQuad material="Lighting.material.xml" technique="Shading">				<BindBuffer name="GBuffer0" source="GBuffer" attach="Color0"/>				<BindBuffer name="GBuffer1" source="GBuffer" attach="Color1"/>				<BindBuffer name="LightAccumulateBuffer" source="LightAccumulateBuffer" attach="Color0"/>			</DrawQuad>		</Stage>				<Stage name="Final">			<SwitchFrameBuffer name="Screen"/>								<DrawQuad material="DebugView.material.xml" technique="ViewRGB">				<BindBuffer name="InputTex" source="LightAccumulateBuffer" attach="Color0"/>			</DrawQuad>								</Stage>				<Stage name="Overlay">			<ClearTarget attach="Depth" depth="1.0"/>			<DrawOverlays/>						<DrawQuad material="Lighting.material.xml" technique="CopyDepth">				<BindBuffer name="DepthBuffer" source="GBuffer" attach="Depth"/>			</DrawQuad>					</Stage>		</CommandQueue>	</Pipeline>