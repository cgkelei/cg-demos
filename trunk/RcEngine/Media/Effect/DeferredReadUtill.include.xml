<Effect name="DefferedReadUtil">
<ShaderSource>
	<![CDATA[
	
float LinearizeDepth(in float nonLinearDepth, in float nearPlane, in float farPlane)
{	
	return nearPlane * farPlane / (farPlane - (farPlane - nearPlane) * nonLinearDepth);
}
	
vec3 PositionVSFromDepth(in vec3 lPosView, in float linearDepth)
{
    // Clamp the view space position to the plane at Z = 1
	vec3 viewRay = vec3(lPosView.xy / lPosView.z, 1.0);
	return viewRay * linearDepth;
}

	]]>
</ShaderSource>

</Effect>